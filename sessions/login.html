<html>

<head>
    <title>Login Page</title>
    <script type="text/javascript">

        function senddata() {
            var username = document.getElementById("username");
            var password = document.getElementById("password");

            var data = {
                "username" : username.value,
                "password" : password.value
            };

            console.log(data);

            var request = new XMLHttpRequest();

            request.onreadystatechange = () => {
                if (request.readyState == 4 && request.status == 200) {
                    console.log(request.response);
                    document.getElementById("output").innerHTML = request.response;
                    if(request.response === "success"){
                        window.location.href = "http://localhost:3000";
                    }
                }
            }
            request.open("POST", "/login", false);
            request.setRequestHeader("Content-Type", "application/json")
            request.send(JSON.stringify(data));
        }

    </script>
    <style type="text/css" src="login.css"></style>
</head>

<body>
    <div class="userdisplay">
        <h1>Login Page</h1>
        <!-- <form method="POST" action="/login" onsubmit="clicked"> -->
        <h4>Username:</h4>
        <input type="text" id="username">
        <h4>Password:</h4>
        <input type="password" id="password">
        <br />
        <br>
        <button type="submit" onclick="senddata()">Login</button>
        <!-- </form>           -->
    </div>
    <div class="output" id="output">

    </div>
</body>

</html>